<div ng-controller="HealthQuizCtrl">

	<div class="row">

		<div class="col-sm-4">

            <div class="panel panel-default">
				<div class="panel-heading">New questions</div>
				<div class="panel-body" ng-show="(questions | filter:isNotAnswered).length==0">
					<p>No more questions</p>
				</div>
                <div class="panel-body" ng-repeat="question in questions | filter:isNotAnswered">
                    <p>{{question.text}}</p>
                    <div ng-show="question.answerType=='STRING'">
						<select ng-model="newAnswer" ng-options="opt.text for opt in question.options">
							<option value="">--- choose ---</option>
						</select>
						<div class="row">
							<button class="btn btn-default" ng-click="skip(question)">
								Skip
							</button>
							<button class="btn btn-default" ng-click="answer(question, newAnswer.key)">
								Answer
							</button>
						</div>
                    </div>
                    <div ng-show="question.answerType=='LOCAL_DATE'">
						<div class="row">
							<div class="col-sm-9">
								<p class="input-group">
								  <input type="text" class="form-control" ng-model="newAnswer" />
								</p>
							</div>
						</div>
						<button class="btn btn-default" ng-click="skip(question)">
							Skip
						</button>
						<button class="btn btn-default" ng-click="answer(question, newAnswer)">
							Answer
						</button>
                    </div>
                </div>
            </div>

		</div>

		<div class="col-sm-3">

            <div class="panel panel-default" ng-show="(questions | filter:isAnswered).length > 0">
            	<div class="panel-heading">Answers</div>
            	<div class="panel-body" ng-repeat="question in questions | filter:isAnswered">
            	    <p>{{question.text}}</p>
                    <p>{{question.answer.value}}</p>
                    <button type="button" class="btn btn-default" ng-click="retract(question)">
                        Retract
                    </button>
                </div>
            </div>

		</div>

		<div class="col-sm-3">

            <div class="panel panel-default">
            	
                <div class="panel-body" ng-show="hrmax != null">
					HR Max: {{hrmax.value}} ({{hrmax.algorithm}})
                </div>
            </div>

		</div>

	</div>

</div>
